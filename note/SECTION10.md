# 섹션 10

## Spring AOP 
스프링 AOP 는 AspectJ의 문법을 차용하고, 프록시 방식의 AOP 를 제공한다. AspectJ를 직접 사용하는 것이 아니다.
스프링 AOP 를 사용할 때는 @Aspect 애노테이션을 주로 사용하는데, 이 애노테이션도 AspectJ가 제공하는 애노테이션이다.

## 어드바이스 순서적용
어드바이스는 기본적으로 순서를 보장하지 않는다. 순서를 지정하고 싶으면 @Aspect 적용 단위로 org.springframework.core.annotation.@Order 애노테이션을 적용해야 한다.  
문제는 이것을 **어드바이스 단위가 아니라 클래스 단위로 적용할 수 있다**는 점이다.  
그래서 지금처럼 하나의 애스펙트에 여러 어드바이스가 있으면 순서를 보장 받을 수 없다. 따라서 애스펙트를 별도의 클래스로 분리해야 한다.

## 어드바이스 종류의 순서
### 실행 순서 
1. @Around
2. @Before
3. @After
4. @AfterReturning
5. @AfterThrowing

어드바이스가 적용되는 순서는 이렇게 적용되지만, 호출 순서와 리턴 순서는 반대다.  
물론 @Aspect 안에 동일한 종류의 어드바이스가 2개 있으면 순서가 보장되지 않는다. 필요하다면 앞에서 확인한 @Order 를 사용한다.